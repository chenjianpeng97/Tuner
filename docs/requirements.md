---
background: 基于需求跟踪矩阵的软件开发项目管理工具
why: 解决小团队使用Excel记录需求与事项时，需求拆解、设计测试关联与进度追踪割裂的问题
---

# 需求

## User

- 创建用户:用户输入用户名，密码，角色来创建用户
  - rule:用户名唯一，用户名已存在时，提示用户已存在
  - rule:根据角色层级关系，用户只能创建下级角色用户
- 激活与反激活用户:用户可被激活或反激活
  - rule:用户被反激活后，无法登录系统
  - rule:可以控制user角色的用户才可以操作激活与反激活
  - rule:用户只能激活和反激活下级角色用户

## 项目跟踪视图

- 维护项目跟踪矩阵:系统提供在线表格承载客户需求、设计、测试、排期等信息
  - rule:默认必须包含“需求、设计、测试”三列
  - rule:必须支持扩展排期相关列（预计开始、预计结束）
- 展示客户原始需求:需求单元格可显示客户输入的原始需求内容
  - rule:需求内容支持摘要展示与详情查看
- 下钻产品需求视图:点击需求单元格可进入对应客户需求的产品需求视图
  - rule:下钻必须携带当前客户需求上下文
- 回流关联统计:从产品需求视图返回后，展示该客户需求关联的设计/测试数量
  - rule:统计口径为“当前客户需求关联的产品需求下的资产总数”
  - rule:设计列显示“当前客户需求 + 其关联产品需求”下设计资产总数
  - rule:测试列显示“当前客户需求 + 其关联产品需求”下测试资产总数
- 资产标签统计展示:项目跟踪视图支持按资产标签查看统计
  - rule:资产可配置标签（如 DDL、自动化测试、冒烟设计）
  - rule:单个资产必须支持多标签
- 无关联资产提示:支持展示“已上传但无需求关联”的资产统计
  - rule:允许先上传设计/测试资产，再补充关联需求
  - rule:系统必须可统计并展示无处关联资产数量
  - rule:资产上传与查看必须在特定项目上下文中进行，资产必须归属 project_id

## 产品需求视图

- 维护分层产品需求:支持表达多级需求层级
  - rule:层级名称在项目配置中定义
  - rule:默认层级为 L1、L2、L3
  - rule:必须支持按需扩展至 L4、L5...L9
- 维护模块归属:支持为产品需求标记模块与子模块
  - rule:模块与子模块字段在视图左侧固定展示
- 基于客户需求过滤:下钻后仅显示当前客户需求关联的产品需求
  - rule:查询必须按 customer_requirement_id 过滤
- 自动维护关联关系:在下钻上下文中新建产品需求时自动关联当前客户需求
  - rule:新建成功后必须创建客户需求-产品需求关联记录
- 手动维护关联关系:支持对客户需求与产品需求进行手动关联/取消关联
  - rule:取消关联后不删除产品需求实体，仅解除关系
  - rule:客户需求与产品需求必须支持多对多关联

## 需求资产管理

- 创建需求资产文件:每个产品需求可创建关联文件
  - rule:首批支持 gherkin file
  - rule:首批支持 设计说明.md
  - rule:首批支持 测试用例.md
- 维护资产文件:支持查看、编辑、删除资产文件
  - rule:资产文件必须绑定所属产品需求
- 资产标签管理:支持为资产打标签并用于筛选和统计
  - rule:标签支持项目级配置
  - rule:单个资产支持多标签
- 预上传资产:支持在需求未上传或未建立关联前先上传资产
  - rule:预上传资产允许暂时无客户需求/产品需求关联
  - rule:预上传资产必须先关联项目
  - rule:系统必须提供后续补关联能力
- 资产复制与跟随:支持将同一资产复制到多个产品需求，并维护父子关系
  - rule:原资产作为父级，复制资产作为子级副本
  - rule:复制时可选择“跟随父级”或“不跟随父级”
  - rule:当父级内容变更时，跟随副本可选择是否自动同步
  - rule:当副本脱离跟随并形成分支后，视为独立资产分支
- 统计资产数量:按客户需求聚合展示关联资产数量
  - rule:统计结果需可回流展示到项目跟踪视图
  - rule:需提供“无需求关联资产”独立统计
  - rule:同一父级资产及其跟随副本在同一客户需求统计中仅计一次
  - rule:脱离跟随形成独立分支的副本按独立资产计数

## 事项与需求一体化管理

- 统一实体管理:事项与需求统一为“客户需求”实体
  - rule:通过 label 区分是否为研发需求
- 研发需求下钻:被标记为研发需求的客户需求可下钻到产品需求视图
  - rule:仅研发需求允许进入产品需求拆解流程
- 非研发事项处理:被标记为事项的客户需求当前仅做标记和跟踪
  - rule:事项当前阶段不进入产品需求拆解

## 状态与进展展示

- 维护需求状态:支持在项目跟踪视图中标记客户需求状态
  - rule:状态标签在项目设置中配置
  - rule:首批默认状态包含 待确认、内部已确认、待外部确认（可扩展）
  - rule:状态流转不做路径约束，可任意切换
- 展示排期进展:支持按预计开始/结束展示当前进展
  - rule:MVP 先支持列表或看板形态
- 记录状态变更信息:状态更新需保留审计字段
  - rule:至少记录最后更新时间与最后更新人
  - rule:必须记录每次状态变更的操作人



